- content_for :app_head do
  = javascript_include_tag "layouts/user-layout"
  = yield :head
  :javascript
    window.controller = "#{params[:controller]}"
    window.action = "#{params[:action]}"
- content_for :app_nav do
  #app-user-navbar.navbar.navbar-default{role: "navigation"}
    .navbar-header
      %button.navbar-toggle{ type: "button", data: {toggle: "collapse", target: ".bs-navbar-collapse"}}
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand{href: "/"} Lib
    .collapse.bs-navbar-collapse.navbar-collapse{role: "navigation"}
      %ul.nav.navbar-nav
        %li.divider-vertical
        %li.notes
          %a{href: "/user/notes/"} 错题本
        %li.divider-vertical
        %li
          %a{href: "#"} 关于我们
        %li.divider-vertical
        %li
          %a{href: "#"} 联系我们
      %ul.nav.navbar-nav.navbar-right
        %li.dropdown
          - if user_signed_in?
            %a.dropdown-toggle{href: "#", data: {toggle: "dropdown"}}
              %span= current_user.email
              %b.caret
            %ul.dropdown-menu
              %li
                %a{href: "/users/sign_out", data: {method: "delete"}, rel: "nofollow"} 退出
          - else
            %a.dropdown-toggle{href: "#", data: {toggle: "dropdown"}}
              %span Account
              %b.caret
            %ul.dropdown-menu
              %li
                %a{href: "/users/sign_in"} 登录
              %li
                %a{href: "/users/sign_up"} 注册
- content_for :app_content do
  = yield

= render :template => 'layouts/application'

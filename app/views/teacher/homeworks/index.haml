- content_for :head do
  = stylesheet_link_tag "pages/teacher/homeworks/index-bundle", :media => "all"
  = javascript_include_tag "pages/teacher/homeworks/index-bundle"
  :javascript
    window.folder_id = "#{@folder_id}"
    window.root_folder_id = "#{@root_folder_id}"
    window.type = "#{@type}"
    window.keyword = "#{params[:keyword]}"

- content_for :teacher_content do
  #homework-index
    #search-bar
      #folder-wrapper
      #search-box
        %input#input-search{:placeholder => "文件夹或作业名称", :type => "text", :value => params[:keyword]}
          %a#link-search{href: "javascript:void(0);"}
    .clear-both
    #main-part
      #left-part
        #new-button
          %a#create-doc-link
          %a#create-other-link
          #create-other-dropdown-list.hide.ef-dropdown-menu
            .ef-dropdown-item
              %a#create-folder-link 新建文件夹
            .ef-dropdown-item
              %a#create-slides-link 新建课件
        %ul
          %li
            .folder-node#root-folder
              .name-node.root
                %span.caret-wrapper
                  %b.open
                %i.icon.folder-open
                %span.name 我的文件夹
              .children.hide
          %li
            .folder-node.all
              .name-node.root{:class => ("selected" if @type == "all")}
                %i.icon.documents
                %span 全部作业
          %li
            .folder-node.recent
              .name-node.root{:class => ("selected" if @type == "recent")}
                %i.icon.recent
                %span 最近使用
          %li
            .folder-node.workbook
              .name-node.root{:class => ("selected" if @type == "workbook")}
                %b
                %i.icon.workbook
                %span 练习册
          %li
            .folder-node.starred
              .name-node.root{:class => ("selected" if @type == "starred")}
                %i.icon.starred
                %span 已加星标
          %li
            .folder-node.trash
              .name-node.root{:class => ("selected" if @type == "trash")}
                %i.icon.trash
                %span 已删除
      #right-part
        #table-wrapper

  #newFolderModal.modal.fade
    .modal-dialog
      .modal-content
        .modal-header
          %button.close{type: "button", "data-dismiss" => "modal", "aria-hidden" => "true"} &times;
          %h3 新建文件夹
        .modal-body
          %p
            %span 请输入新文件夹的名称
          %p
            %input.target.form-control{type: "text", value: "新文件夹"}/
        .modal-footer
          %a.btn.btn-primary.ok{href: "#", "aria-hidden" => "true"} 确定
          %a.btn.btn-default{href: "#", data: {dismiss: "modal"}, "aria-hidden" => "true"} 取消

  #renameModal.modal.fade
    .modal-dialog
      .modal-content
        .modal-header
          %button.close{type: "button", "data-dismiss" => "modal", "aria-hidden" => "true"} &times;
          %h3 重命名
        .modal-body
          %p
            %span 请为其输入新名称
          %p
            %input.target.form-control{type: "text", value: ""}/
        .modal-footer
          %a.btn.btn-primary.ok{href: "#", "aria-hidden" => "true"} 确定
          %a.btn.btn-default{href: "#", data: {dismiss: "modal"}, "aria-hidden" => "true"} 取消

  #moveModal.modal.fade
    .modal-dialog
      .modal-content
        .modal-header
          %button.close{type: "button", "data-dismiss" => "modal", "aria-hidden" => "true"} &times;
          %h3 移动
        .modal-body
          %p
            %span 将
            %span.bold.target-name
            %span 移至
          #move-folder-parent
            .folder-node.root#move-folder
              .name-node.root
                %span.caret-wrapper
                  %b.open
                %i.icon.folder-open
                %span.name 我的文件夹
              .children.hide
        .modal-footer
          %a.btn.btn-primary.ok{href: "#", "aria-hidden" => "true"} 确定
          %a.btn.btn-default{href: "#", data: {dismiss: "modal"}, "aria-hidden" => "true"} 取消

  #newHomeworkModal.modal.fade
    .modal-dialog
      .modal-content
        = form_tag(teacher_homeworks_path, method: "post", multipart: true) do
          .modal-header
            %button.close{type: "button", "data-dismiss" => "modal", "aria-hidden" => "true"} &times;
            %h3 创建新作业
          .modal-body
            .form-group.hide
              = text_field_tag :folder_id, ""
            .form-group
              = label_tag :subject, "学科"
              = select_tag :subject, options_for_select(Subject::CODE, current_user.subject), class: "form-control"
            .form-group
              = file_field_tag "homework_file", { class: "hide" }
              %a#browser-homework-click= "选择文件"
              %p#homework-name
          .modal-footer
            %a.btn.btn-default{href: "#", data: {dismiss: "modal"}, "aria-hidden" => "true"} 取消
            = submit_tag "创建", :class => 'btn-primary btn'

  #newSlidesModal.modal.fade
    .modal-dialog
      .modal-content
        = form_tag(teacher_slides_path, method: "post", multipart: true) do
          .modal-header
            %button.close{type: "button", "data-dismiss" => "modal", "aria-hidden" => "true"} &times;
            %h3 创建新课件
          .modal-body
            .form-group.hide
              = text_field_tag :folder_id, ""
            .form-group
              = select_tag :subject, options_for_select(Subject::CODE, current_user.subject), class: "form-control"
            .form-group
              = file_field_tag "slide_file", { class: "hide" }
              %a#browser-slide-click= "选择文件"
              %p#slide-name
          .modal-footer
            %a.btn.btn-default{href: "#", data: {dismiss: "modal"}, "aria-hidden" => "true"} 取消
            = submit_tag "创建", :class => 'btn-primary btn'

  #recoverModal.modal.fade
    .modal-dialog
      .modal-content
        .modal-header
          %button.close{type: "button", "data-dismiss" => "modal", "aria-hidden" => "true"} &times;
          %h3 还原
        .modal-body
          .p 该项目位于回收站中，必须首先还原才能查看，是否还原？
        .modal-footer
          %a.btn.btn-primary.ok{href: "#", "aria-hidden" => "true"} 还原
          %a.btn.btn-default{href: "#", data: {dismiss: "modal"}, "aria-hidden" => "true"} 取消
